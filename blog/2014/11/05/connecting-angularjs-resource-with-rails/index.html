
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Connecting AngularJs Resource With Rails - Srikanth</title>
  <meta name="author" content="sri-sankl">

  
  <meta name="description" content="RAILS RESTful web services have made my web application development much simpler and faster. There are several javascript frameworks which provides &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sri-sankl.github.io/blog/2014/11/05/connecting-angularjs-resource-with-rails/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Srikanth" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Srikanth</a></h1>
  
    <h2>A Programmer && A Learner</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="sri-sankl.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Connecting AngularJs Resource With Rails</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-05T21:59:12+05:30'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>9:59 pm</span></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://sri-sankl.github.io">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>RAILS <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">RESTful</a> web services have made my web application development much simpler and faster. There are several javascript frameworks which provides RESTful services. <a href="https://angularjs.org/">Angular.js</a> is one of the best and popular javasript framework among them. It provides RESTful services using its <code>ng_resouce</code> API.</p>

<h2>Implementing a sample app using Rails, <em>ng, ng_resouce and ng_routes</em>.</h2>

<h4>Gems used:</h4>

<figure class='code'><figcaption><span>Gemfile  </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;haml-rails&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 0.5.3&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;angularjs-rails&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 1.2.22&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;angular-rails-templates&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<!--more-->


<ol>
<li><a href="http://haml.info">Haml</a> is a markup language used to write a well-intented and a clear structured  HTML. <a href="https://github.com/indirect/haml-rails">haml-rails</a> is a templating engine which converts haml into html.</li>
<li><a href="https://rubygems.org/gems/angularjs-rails">angularjs-rails</a> is the rails gem for angular.js library.</li>
<li><a href="https://github.com/pitr/angular-rails-templates">angular-rails-templates</a> is used to load  angular templates as part of asset pipeline.

<ul>
<li>Angular engine cannot convert haml templates into html while rendering. Hence the rendered content will be shown as a text in the web page.</li>
<li><code>angular-rails-templates</code> converts the haml files into html by using the <code>haml</code> gem. These converted html files will be loaded with the assets.</li>
<li>Since templates are cached, we can avoid the ajax calls required by angular engine to render the templates.
<br>
 <em>Create a separate directory for templates
    <br/>
  <code>$ mkdir app/assets/templates</code></em></li>
<li>configure angular-rails-templates.</li>
</ul>
</li>
</ol>


<figure class='code'><figcaption><span>config/application.rb                 </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'> config.angular_templates.module_name    <span class="o">=</span> <span class="s1">&#39;myTemplates&#39;</span>
</span><span class='line'> config.angular_templates.ignore_prefix  <span class="o">=</span> <span class="s1">&#39;templates/&#39;</span>
</span><span class='line'> config.angular_templates.markups        <span class="o">=</span> %w<span class="o">(</span>erb haml<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Yeah..! We have done with the set up. Now lets get into action.</p>

<h4>A Book Model</h4>

<p>Let us take the example of a Book resource and use RESTful API to manipulate its state. Consider the attributes ISBN, Name and Damaged(Boolean indicating whether the book is damaged or not).
  <br/></p>

<h5>Generate ruby model and controller.</h5>

<figure class='code'><figcaption><span>Generating Ruby Model and Controller</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">rails</span> <span class="n">g</span> <span class="n">model</span> <span class="n">book</span> <span class="ss">isbn</span><span class="p">:</span><span class="n">string</span> <span class="nb">name</span><span class="ss">:string</span> <span class="ss">damaged</span><span class="p">:</span><span class="n">boolean</span>
</span><span class='line'><span class="err">$</span> <span class="n">rails</span> <span class="n">g</span> <span class="n">controller</span> <span class="n">books</span>
</span></code></pre></td></tr></table></div></figure>


<h5>Configure Book at rails routes</h5>

<figure class='code'><figcaption><span>config/routes.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">resources</span> <span class="ss">:books</span>
</span></code></pre></td></tr></table></div></figure>


<h5>Include required javasript libraries</h5>

<figure class='code'><figcaption><span>app/assets/javascripts/application.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">//= require angular</span>
</span><span class='line'><span class="c1">//= require angular-resource</span>
</span><span class='line'><span class="c1">//= require angular-route.min</span>
</span><span class='line'><span class="c1">//= require angular-rails-templates</span>
</span><span class='line'><span class="c1">//= require ng_initialize</span>
</span><span class='line'><span class="c1">//= require_tree ../templates</span>
</span><span class='line'><span class="c1">//= require_tree .</span>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p> <code>require_tree ../templates</code> loads all the haml files inside its <code>templates</code> directory and its sub directories.</p>

<h6><em>Note: Angular.js library should be loaded before its dependent libraries are loaded.</em></h6>

<h4>Bootstraping Angular App</h4>

<p>We can bootstrap angular app in two ways. <em>Automatic initialization</em> and <em>Manual initialization</em></p>

<h5>Automatic Initialization</h5>

<figure class='code'><figcaption><span>app/view/layaouts/application.html.haml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='haml'><span class='line'> <span class="nn">!!!</span>
</span><span class='line'> <span class="nt">%html</span><span class="p">{</span><span class="ss">:ng_app</span> <span class="o">=&gt;</span> <span class="s1">&#39;myApp&#39;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li><code>ng_app</code> on a html element bootstraps angular engine automatically.</li>
<li>All the siblings of <code>html</code> tag will be under the scope of <code>ng_app</code>.</li>
<li>When the angular.js library is loaded, it will search for the <code>:ng_app</code> attribute on any of the DOM element and <a href="https://docs.angularjs.org/guide/bootstrap">bootstraps</a> it.</li>
</ol>


<h5>Manual Initialization</h5>

<p>  We can get more control on angular module initilization using <a href="https://docs.angularjs.org/guide/bootstrap">manual bootstrap</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;myApp&#39;</span><span class="p">,</span> <span class="p">[])</span>
</span><span class='line'>      <span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">&#39;MyController&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;$scope&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">greetMe</span> <span class="o">=</span> <span class="s1">&#39;World&#39;</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}]);</span>
</span><span class='line'><span class="nx">angular</span><span class="p">.</span><span class="nx">element</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">angular</span><span class="p">.</span><span class="nx">bootstrap</span><span class="p">(</span><span class="nb">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;myApp&#39;</span><span class="p">]);</span>
</span><span class='line'>    <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p> We will go with automatic initialization in this post.</p>

<h4>Inject dependent modules into Angular application</h4>

<figure class='code'><figcaption><span>app/assets/javascripts/ng_initialize.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">var</span> <span class="nx">myApp</span> <span class="o">=</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s2">&quot;myApp&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;ngResource&#39;</span><span class="p">,</span> <span class="s1">&#39;ngRoute&#39;</span><span class="p">,</span> <span class="s1">&#39;myTemplates&#39;</span><span class="p">])</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li><code>angularjs-rails</code> gem comes with <code>ng_resource</code>. But we need to inject into it explicitly.</li>
<li><code>ngRoute</code> is used for angular routes.</li>
<li><code>myTemplates</code> is <code>module_name</code> of rails angular templates, which was configured at <em>application.rb</em>.</li>
</ol>


<h4>Define Resource</h4>

<p><em>Group <a href="https://docs.angularjs.org/guide/providers">services/factories</a> into a services directory.</em></p>

<figure class='code'><figcaption><span>app/assets/javascripts/services/book.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">service</span><span class="p">(</span><span class="s2">&quot;Book&quot;</span><span class="p">,[</span><span class="s2">&quot;$resource&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$resource</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nx">$resource</span><span class="p">(</span><span class="s1">&#39;/books/:id.json&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;@id&#39;</span><span class="p">})</span>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>  The URL of the resource has an attribute <code>id</code> prefixed with <code>:</code>. It acts as a request parameter and this value will be replaced with respective attribute of the parameter hash.</p>

<ol>
<li>If the parameter hash is <code>{id: 2}</code> then the url becomes <code>/books/2.json</code>.</li>
<li>If the parameter hash is <code>{id:2, name: 'OS'}</code> then the url becomes <code>/books/2.json?name=OS</code>. Here the extra keys in hash will be added as parameters to the url after <code>?</code></li>
<li><code>@</code> symbol on any attribute will fetch the corresponding values from its data. If a <em>book</em> object is having the state as <code>{id: 2, name: 'OS', isbn:'121-340121'}</code> and the resource is <code>$resource('/books/:id.json', {id:'@id', isbn:'@isbn'})</code>. Here {id} and {isbn} would be respctive attributes of <em>book</em>.</li>
<li>The sufix of the url is a response format(<code>.json</code>). We can also make this format dynamic by changing the resource to <code>('/books/:id.:json', {id:'@id', json: '@json'})</code>
<br>
<em>We define an anonymous <a href="http://www.adequatelygood.com/JavaScript-Module-Pattern-In-Depth.html">module</a> and pass global variables <code>angular</code> and <code>myApp</code> to it, so that global scope can be avoided</em>

<h6><em>Note: Make sure that initilization of <code>myApp</code> has been done before loading this service.</em></h6>

<p><em>$resource</em> provides the following functions and their respective request types</p></li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="p">{</span> <span class="s1">&#39;get&#39;</span><span class="o">:</span>    <span class="p">{</span><span class="nx">method</span><span class="o">:</span><span class="s1">&#39;GET&#39;</span><span class="p">},</span>
</span><span class='line'>  <span class="s1">&#39;save&#39;</span><span class="o">:</span>   <span class="p">{</span><span class="nx">method</span><span class="o">:</span><span class="s1">&#39;POST&#39;</span><span class="p">},</span>
</span><span class='line'>  <span class="s1">&#39;query&#39;</span><span class="o">:</span>  <span class="p">{</span><span class="nx">method</span><span class="o">:</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="nx">isArray</span><span class="o">:</span><span class="kc">true</span><span class="p">},</span>
</span><span class='line'>  <span class="s1">&#39;remove&#39;</span><span class="o">:</span> <span class="p">{</span><span class="nx">method</span><span class="o">:</span><span class="s1">&#39;DELETE&#39;</span><span class="p">},</span>
</span><span class='line'>  <span class="s1">&#39;delete&#39;</span><span class="o">:</span> <span class="p">{</span><span class="nx">method</span><span class="o">:</span><span class="s1">&#39;DELETE&#39;</span><span class="p">}</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li><code>Book.get({id: 1})</code> method makes a <code>GET /books/1.json</code> request.</li>
<li><code>Book.query()</code> method makes a <code>GET /books.json</code> request.</li>
<li><code>true</code> value of <code>isArray</code> indicates response data is in the form of Array.</li>
<li><code>false</code> value of <code>isArray</code> indicates response data is in the form of Hash.</li>
</ol>


<p>We can call <code>$method()</code> on any object(book.$save(), book.$delete()..etc). These <code>$method()s</code> returns the <a href="https://docs.angularjs.org/api/ng/service/$q">promises</a>.</p>

<h4>Books Listing :</h4>

<h5>Definie <code>index</code> action in <code>books_controller.rb</code>.</h5>

<figure class='code'><figcaption><span>app/controllers/books_controller.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">BooksController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">index</span>
</span><span class='line'>    <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
</span><span class='line'>      <span class="nb">format</span><span class="o">.</span><span class="n">json</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">render</span> <span class="ss">:json</span> <span class="o">=&gt;</span> <span class="no">Book</span><span class="o">.</span><span class="n">all</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>      <span class="nb">format</span><span class="o">.</span><span class="n">html</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This index action gives an array of books as json data.</p>

<h5>Define angular route to navigate to the listing page.</h5>

<figure class='code'><figcaption><span>app/assets/javascripts/router.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">([</span><span class="s2">&quot;$routeProvider&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$routeProvider</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">$routeProvider</span>
</span><span class='line'>            <span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">&#39;/books&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>                <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;books/index.html&#39;</span><span class="p">,</span>
</span><span class='line'>                <span class="nx">resolve</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>                    <span class="nx">books</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Book</span><span class="p">){</span>
</span><span class='line'>                        <span class="k">return</span> <span class="nx">Book</span><span class="p">.</span><span class="nx">query</span><span class="p">()</span>
</span><span class='line'>                    <span class="p">}</span>
</span><span class='line'>                <span class="p">},</span>
</span><span class='line'>                <span class="nx">controller</span><span class="o">:</span> <span class="s2">&quot;BooksIndexController&quot;</span>
</span><span class='line'>            <span class="p">})</span>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li><a href="https://docs.angularjs.org/api/ngRoute/provider/$routeProvider">$routeProvider</a> is used to create an angular routes.</li>
<li><code>when</code> adds a new route to route service</li>
<li><code>templateUrl</code> is the path to the file to be rendered after action. Angular templates engine adds <code>templates/</code> to <code>books/index.html</code> and the final file path will be <code>templates/books/index.html</code>.</li>
<li><a href="https://docs.angularjs.org/api/ngRoute/provider/$routeProvider"><code>resolve</code></a> executes before the initialization of <em>BooksIndexController</em>. The returned object can be injected into controller as a dependency.
<br/>
<code>Book.query()</code> makes a get request, resolves the promise and returns all the <code>books</code>.</li>
</ol>


<figure class='code'><figcaption><span>app/assets/javascripts/controllers/books_controller.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;BooksIndexController&quot;</span><span class="p">,[</span><span class="s2">&quot;books&quot;</span><span class="p">,</span> <span class="s2">&quot;$scope&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">books</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">books</span> <span class="o">=</span> <span class="nx">books</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>books</code> returned from resolve of route is injected into to the controller scope.</p>

<figure class='code'><figcaption><span>app/assets/templetes/books/index.html.haml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='haml'><span class='line'>  <span class="nt">%a</span><span class="p">{</span><span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">&quot;#/new&quot;</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">&quot;btn btn-primary btn-sm&quot;</span><span class="p">}</span> New Book
</span><span class='line'>
</span><span class='line'>  <span class="nt">%table</span><span class="nc">.table.table-condensed.table-bordered</span>
</span><span class='line'>    <span class="nt">%thead</span>
</span><span class='line'>      <span class="nt">%th</span> ISBN
</span><span class='line'>      <span class="nt">%th</span> Name
</span><span class='line'>      <span class="nt">%th</span> Is Damaged
</span><span class='line'>      <span class="nt">%th</span>
</span><span class='line'>    <span class="nt">%tbody</span>
</span><span class='line'>      <span class="nt">%tr</span><span class="p">{</span><span class="ss">:ng_repeat</span> <span class="o">=&gt;</span> <span class="s2">&quot;book in books&quot;</span><span class="p">}</span>
</span><span class='line'>        <span class="nt">%td</span> {{book.isbn}}
</span><span class='line'>        <span class="nt">%td</span> {{book.name}}
</span><span class='line'>        <span class="nt">%td</span> {{book.damaged}}
</span><span class='line'>        <span class="nt">%td</span>
</span><span class='line'>          <span class="nt">%a</span><span class="p">{</span><span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">&quot;#/{{book.id}</span>}/edit&quot;, :class =&gt; &quot;btn btn-warning btn-sm &quot;} Edit
</span><span class='line'>          <span class="nt">%a</span><span class="p">{</span><span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="ss">:ng_click</span> <span class="o">=&gt;</span> <span class="s2">&quot;destroy(book)&quot;</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">&quot;btn btn-danger btn-sm &quot;</span><span class="p">}</span> Delete
</span><span class='line'>          <span class="nt">%a</span><span class="p">{</span><span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="ss">:ng_click</span> <span class="o">=&gt;</span> <span class="s2">&quot;markAsDamaged(book)&quot;</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">&quot;btn btn-info btn-sm&quot;</span> <span class="p">,</span> <span class="ss">:ng_hide</span> <span class="o">=&gt;</span> <span class="s2">&quot;book.damaged&quot;</span><span class="p">}</span> Marks as damaged
</span></code></pre></td></tr></table></div></figure>


<h4>Define New Book and Save</h4>

<p>Write <code>create</code> action in <code>books_controller.rb</code></p>

<figure class='code'><figcaption><span>app/controllers/books_controller.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">BooksController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">create</span>
</span><span class='line'>    <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
</span><span class='line'>      <span class="nb">format</span><span class="o">.</span><span class="n">json</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">book</span> <span class="o">=</span> <span class="no">Book</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">book_params</span><span class="p">)</span>
</span><span class='line'>        <span class="n">render</span> <span class="ss">:json</span> <span class="o">=&gt;</span> <span class="n">book</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>The Angular router needs to be updated now</p>

<figure class='code'><figcaption><span>app/assets/javascripts/router.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">([</span><span class="s2">&quot;$routeProvider&quot;</span><span class="p">,</span> <span class="s2">&quot;$locationProvider&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$routeProvider</span><span class="p">,</span> <span class="nx">$locationProvider</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">$routeProvider</span>
</span><span class='line'>            <span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">&#39;/books&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>                 <span class="p">......</span>
</span><span class='line'>            <span class="p">})</span>
</span><span class='line'>            <span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">&#39;/new&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>                <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;books/new.html&#39;</span><span class="p">,</span>
</span><span class='line'>                <span class="nx">resolve</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>                    <span class="nx">newBook</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Book</span><span class="p">){</span>
</span><span class='line'>                        <span class="k">return</span> <span class="k">new</span> <span class="nx">Book</span><span class="p">({</span><span class="nx">isbn</span><span class="o">:</span> <span class="kc">null</span> <span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">damaged</span><span class="o">:</span> <span class="kc">false</span><span class="p">})</span>
</span><span class='line'>                    <span class="p">}</span>
</span><span class='line'>                <span class="p">},</span>
</span><span class='line'>                <span class="nx">controller</span><span class="o">:</span> <span class="s2">&quot;BooksNewController&quot;</span>
</span><span class='line'>            <span class="p">})</span>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>#/new</code> route creates an empty book object and passes it to the <em>BooksNewController</em></p>

<figure class='code'><figcaption><span>app/assets/javascripts/controllers/books_controller.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">......</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;BooksNewController&quot;</span><span class="p">,[</span><span class="s2">&quot;$scope&quot;</span><span class="p">,</span> <span class="s2">&quot;$location&quot;</span><span class="p">,</span> <span class="s2">&quot;book&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">$location</span><span class="p">,</span> <span class="nx">book</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">book</span> <span class="o">=</span> <span class="nx">book</span>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here is the form defining creation of a new book</p>

<figure class='code'><figcaption><span>app/assets/templetes/books/new.html.haml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='haml'><span class='line'><span class="nt">%form</span><span class="p">{</span><span class="ss">:method</span> <span class="o">=&gt;</span> <span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">&quot;form-horizantal&quot;</span><span class="p">,</span> <span class="ss">:ng_submit</span> <span class="o">=&gt;</span> <span class="s2">&quot;submit()&quot;</span><span class="p">}</span>
</span><span class='line'>  <span class="nc">.form-groupe</span>
</span><span class='line'>    <span class="nt">%label</span><span class="nc">.control-label</span> ISBN
</span><span class='line'>    <span class="nt">%input</span><span class="p">{</span><span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="ss">:ng_model</span> <span class="o">=&gt;</span> <span class="s2">&quot;book.isbn&quot;</span><span class="p">}</span>
</span><span class='line'>  <span class="nc">.form-groupe</span>
</span><span class='line'>    <span class="nt">%label</span><span class="nc">.control-label</span> Name
</span><span class='line'>    <span class="nt">%input</span><span class="p">{</span><span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="ss">:ng_model</span> <span class="o">=&gt;</span> <span class="s2">&quot;book.name&quot;</span><span class="p">}</span>
</span><span class='line'>  <span class="nc">.form-groupe</span>
</span><span class='line'>    <span class="nt">%button</span><span class="p">{</span><span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s2">&quot;submit&quot;</span><span class="p">}</span> Save
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>new.html.haml is under the <em>BooksNewController</em>&rsquo;s scope</li>
<li>All the book attributes are bounded with <code>ng_model</code> of form inputs. When we submit the form it invokes <code>submit()</code> of <code>ng_submit</code> attribute.
Let us add submit function in <em>BooksNewController</em></li>
</ol>


<figure class='code'><figcaption><span>app/assets/javascripts/controllers/books_controller.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">......</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;BooksNewController&quot;</span><span class="p">,[</span><span class="s2">&quot;$scope&quot;</span><span class="p">,</span> <span class="s2">&quot;$location&quot;</span><span class="p">,</span> <span class="s2">&quot;book&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">$location</span><span class="p">,</span> <span class="nx">book</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">book</span> <span class="o">=</span> <span class="nx">book</span>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">submit</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>            <span class="nx">$scope</span><span class="p">.</span><span class="nx">book</span><span class="p">.</span><span class="nx">$save</span><span class="p">()</span>
</span><span class='line'>                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                    <span class="nx">$location</span><span class="p">.</span><span class="nx">path</span><span class="p">(</span><span class="s2">&quot;/books&quot;</span><span class="p">)</span>
</span><span class='line'>                <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                    <span class="c1">// handle failure</span>
</span><span class='line'>                <span class="p">});</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>On successfull creation of book, <a href="https://docs.angularjs.org/api/ng/service/$location">$location</a> redirects to <code>/books</code> route.</p>

<h4>Edit and Update Book</h4>

<p>Let us update <code>books_controller.rb</code> to include functionality to update a book</p>

<figure class='code'><figcaption><span>app/controllers/books_controller.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">BooksController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">show</span>
</span><span class='line'>    <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
</span><span class='line'>      <span class="nb">format</span><span class="o">.</span><span class="n">json</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">book</span> <span class="o">=</span> <span class="no">Book</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>        <span class="n">render</span> <span class="ss">:json</span> <span class="o">=&gt;</span> <span class="n">book</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">update</span>
</span><span class='line'>    <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
</span><span class='line'>      <span class="nb">format</span><span class="o">.</span><span class="n">json</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">book</span> <span class="o">=</span> <span class="no">Book</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>        <span class="n">render</span> <span class="ss">:json</span> <span class="o">=&gt;</span> <span class="n">book</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">book_params</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Define <em>update</em> action in <em>resource</em></h4>

<p>Default actions of <code>$resource</code> will not include Update action. We have to configure it.</p>

<figure class='code'><figcaption><span>app/assets/javascripts/services/book.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">service</span><span class="p">(</span><span class="s2">&quot;Book&quot;</span><span class="p">,[</span><span class="s2">&quot;$resource&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$resource</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nx">$resource</span><span class="p">(</span><span class="s1">&#39;/books/:id.json&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;@id&#39;</span><span class="p">},</span>
</span><span class='line'>                         <span class="p">{</span>
</span><span class='line'>                             <span class="s2">&quot;update&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="nx">method</span><span class="o">:</span> <span class="s2">&quot;PUT&quot;</span><span class="p">}</span>
</span><span class='line'>                         <span class="p">}</span>
</span><span class='line'>                        <span class="p">);</span>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Update angular router for edit action</h4>

<figure class='code'><figcaption><span>app/assets/javascripts/router.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">([</span><span class="s2">&quot;$routeProvider&quot;</span><span class="p">,</span> <span class="s2">&quot;$locationProvider&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$routeProvider</span><span class="p">,</span> <span class="nx">$locationProvider</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">$routeProvider</span>
</span><span class='line'>            <span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">&#39;/books&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>                 <span class="p">......</span>
</span><span class='line'>            <span class="p">})</span>
</span><span class='line'>            <span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">&#39;/new&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>                 <span class="p">......</span>
</span><span class='line'>            <span class="p">})</span>
</span><span class='line'>            <span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">&#39;/:id/edit&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>                <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;books/new.html&#39;</span><span class="p">,</span>
</span><span class='line'>                <span class="nx">resolve</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>                    <span class="nx">book</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Book</span><span class="p">,</span> <span class="nx">$route</span><span class="p">){</span>
</span><span class='line'>                        <span class="k">return</span> <span class="nx">Book</span><span class="p">.</span><span class="nx">get</span><span class="p">({</span><span class="nx">id</span><span class="o">:</span> <span class="nx">$route</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">})</span>
</span><span class='line'>                    <span class="p">}</span>
</span><span class='line'>                <span class="p">},</span>
</span><span class='line'>                <span class="nx">controller</span><span class="o">:</span> <span class="s2">&quot;BooksEditController&quot;</span>
</span><span class='line'>            <span class="p">})</span>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>Get request parameters using <a href="https://docs.angularjs.org/api/ngRoute/service/$route"><code>$route</code></a>.</li>
<li>Use <code>$route.current.params</code>  instead of <a href="https://docs.angularjs.org/api/ngRoute/service/$routeParams">$routeParams</a> to access the new current route parameters.</li>
<li><code>Book.get({id: $route.current.params.id})</code> makes the GET request with url like &ldquo;/books/1.json&rdquo;.</li>
<li>Now the <em>Book</em> state is <code>"book"=&gt;{"id"=&gt;"1", "isbn"=&gt;"81-7596-067-1", "name"=&gt;"Old Book Name", "damaged"=&gt;false}</code></li>
</ol>


<h4>Handle update in angular controller</h4>

<figure class='code'><figcaption><span>app/assets/javascripts/controllers/books_controller.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">......</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;BooksEditController&quot;</span><span class="p">,[</span><span class="s2">&quot;book&quot;</span><span class="p">,</span> <span class="s2">&quot;$scope&quot;</span><span class="p">,</span><span class="s2">&quot;$location&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">book</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">,</span> <span class="nx">$location</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">book</span> <span class="o">=</span> <span class="nx">book</span>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">submit</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>            <span class="nx">$scope</span><span class="p">.</span><span class="nx">book</span><span class="p">.</span><span class="nx">$update</span><span class="p">()</span>
</span><span class='line'>                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                    <span class="nx">$location</span><span class="p">.</span><span class="nx">path</span><span class="p">(</span><span class="s2">&quot;/books&quot;</span><span class="p">)</span>
</span><span class='line'>                <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                    <span class="c1">// handle failure</span>
</span><span class='line'>                <span class="p">});</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>The submitted form here calls the <code>$update()</code> function on book.</li>
<li>It makes the PUT <code>/books/1.json</code> and params will be <code>"book"=&gt;{"id"=&gt;"1", "isbn"=&gt;"81-7596-067-1", "name"=&gt;"New Book Name", "damaged"=&gt;false}</code></li>
</ol>


<h3>Delete Book</h3>

<p>Since all the books are rendered under the  <em>BooksIndexController</em> scope, let us define <code>destroy()</code> method in the same controller.</p>

<figure class='code'><figcaption><span>app/assets/javascripts/controllers/books_controller.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;BooksIndexController&quot;</span><span class="p">,[</span><span class="s2">&quot;books&quot;</span><span class="p">,</span> <span class="s2">&quot;$scope&quot;</span><span class="p">,</span> <span class="s2">&quot;$route&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">books</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">,</span> <span class="nx">$route</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">books</span> <span class="o">=</span> <span class="nx">books</span><span class="p">;</span>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">destroy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">book</span><span class="p">){</span>
</span><span class='line'>            <span class="k">if</span><span class="p">(</span><span class="nx">confirm</span><span class="p">(</span><span class="s2">&quot;Are You Sure?&quot;</span><span class="p">)){</span>
</span><span class='line'>                <span class="nx">book</span><span class="p">.</span><span class="nx">$delete</span><span class="p">()</span>
</span><span class='line'>                    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
</span><span class='line'>                        <span class="nx">$route</span><span class="p">.</span><span class="nx">reload</span><span class="p">();</span>
</span><span class='line'>                    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">){</span>
</span><span class='line'>                       <span class="c1">// handle failure   </span>
</span><span class='line'>                    <span class="p">});</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>Call <code>$delete()</code> function on a book to destroy it. It creates DELETE <code>/books/1.json</code> request</li>
<li>If the book is deleted successfully, <code>$route.reload()</code> reloads the current page.</li>
</ol>


<h3>Custom Actions</h3>

<p>We have used CRUD action on the resource so far. We can also make custom calls on the resource</p>

<figure class='code'><figcaption><span>app/assets/javascripts/services/book.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">service</span><span class="p">(</span><span class="s2">&quot;Book&quot;</span><span class="p">,[</span><span class="s2">&quot;$resource&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$resource</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nx">$resource</span><span class="p">(</span><span class="s1">&#39;/books/:id.json&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;@id&#39;</span><span class="p">},</span>
</span><span class='line'>                         <span class="p">{</span>
</span><span class='line'>                             <span class="s2">&quot;update&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="nx">method</span><span class="o">:</span> <span class="s2">&quot;PUT&quot;</span><span class="p">},</span>
</span><span class='line'>                             <span class="s2">&quot;markAsDamaged&quot;</span><span class="o">:</span><span class="p">{</span><span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/books/:id/mark_as_damaged.json&quot;</span><span class="p">,</span> <span class="nx">method</span><span class="o">:</span> <span class="s2">&quot;PUT&quot;</span><span class="p">}</span>
</span><span class='line'>                             <span class="s2">&quot;damagedBooks&quot;</span><span class="o">:</span><span class="p">{</span><span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/books/damaged_books.json&quot;</span><span class="p">,</span> <span class="nx">method</span><span class="o">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="nx">isArray</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span>
</span><span class='line'>                         <span class="p">}</span>
</span><span class='line'>                        <span class="p">);</span>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>These custom actions needs complete Url.</p>

<ol>
<li><code>markAsDamaged</code> is called on book object to changes its status to damaged. <code>book.$markAsDamaged()</code> create a <code>PUT</code> request and url as <code>/books/1/mark_as_damaged.json</code></li>
<li><code>damagedBooks</code> gets an array of damaged books. Book.damaged_books() makes a <code>GET</code> request and url as <code>books/damaged_books.json</code></li>
</ol>


<h4>Configure custom action in routes.rb</h4>

<figure class='code'><figcaption><span>config/routes.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="n">resources</span> <span class="ss">:books</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">member</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">put</span> <span class="s2">&quot;mark_as_damaged&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="n">collection</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">get</span> <span class="s2">&quot;damaged_books&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>update books_controller.rb</p>

<figure class='code'><figcaption><span>app/controllers/books_controller.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">BooksController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">mark_as_damaged</span>
</span><span class='line'>    <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
</span><span class='line'>      <span class="nb">format</span><span class="o">.</span><span class="n">json</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">book</span> <span class="o">=</span> <span class="no">Book</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>        <span class="n">book</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="ss">:damaged</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span>
</span><span class='line'>        <span class="n">render</span> <span class="ss">:json</span> <span class="o">=&gt;</span> <span class="n">book</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Define <code>markAsDamaged()</code> function in <em>BooksIndexController</em></p>

<figure class='code'><figcaption><span>app/assets/javascripts/controllers/books_controller.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">app</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;BooksIndexController&quot;</span><span class="p">,[</span><span class="s2">&quot;books&quot;</span><span class="p">,</span> <span class="s2">&quot;$scope&quot;</span><span class="p">,</span> <span class="s2">&quot;$location&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">books</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">,</span> <span class="nx">$location</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">books</span> <span class="o">=</span> <span class="nx">books</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">destroy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">book</span><span class="p">){</span>
</span><span class='line'>                 <span class="p">.......</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="nx">$scope</span><span class="p">.</span><span class="nx">markAsDamaged</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">book</span><span class="p">){</span>
</span><span class='line'>            <span class="nx">book</span><span class="p">.</span><span class="nx">$markAsDamaged</span><span class="p">()</span>
</span><span class='line'>                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
</span><span class='line'>                    <span class="nx">book</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
</span><span class='line'>                <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">){</span>
</span><span class='line'>                   <span class="c1">// handle error</span>
</span><span class='line'>                <span class="p">});</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">}]);</span>
</span><span class='line'><span class="p">})(</span><span class="nx">angular</span><span class="p">,</span> <span class="nx">myApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>I hope by now you would know how to define <code>damaged_books()</code> handler in the <em>BooksIndexController</em>.
<br/></p>

<p>You can find this git hub repo at <a href="https://github.com/sri-sankl/ng_resouce_with_rails">ng_resouce_with_rails</a></p>

<blockquote><p>Thank you for reading the post. Feel free to comment.
Happy Coding..:)</p></blockquote>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">sri-sankl</span></span>

      




<time class='entry-date' datetime='2014-11-05T21:59:12+05:30'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>9:59 pm</span></time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://sri-sankl.github.io/blog/2014/11/05/connecting-angularjs-resource-with-rails/" data-via="sri_sankl" data-counturl="http://sri-sankl.github.io/blog/2014/11/05/connecting-angularjs-resource-with-rails/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/blog/2014/11/29/ajax-pagination-with-angularjs-and-rails-using-will-paginate/" title="Next Post: Ajax Pagination With Angularjs and Rails using will_paginate">Ajax Pagination With Angularjs and Rails using will_paginate &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/06/17/role_of_lambdas_in_collections-java-8/">Role of Lambdas in Collections - Java 8</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/05/17/lambda-expressions-in-java-8/">Lambda Expressions in Java 8</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/26/metaprogramming-in-ruby-implementing-class-extension-mixins/">Metaprogramming in Ruby: Implementing Class Extension Mixins</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/29/ajax-pagination-with-angularjs-and-rails-using-will-paginate/">Ajax Pagination With Angularjs and Rails Using Will_paginate</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/05/connecting-angularjs-resource-with-rails/">Connecting AngularJs Resource With Rails</a>
      </li>
    
  </ul>
</section>
<!--  -->
<!--  -->
<a href="https://github.com/sri-sankl"><h4>GitHub</h4>
<a href="https://twitter.com/sri_sankl"><h4>Twitter</h4>
<!--  -->
<!--  -->
<!--  -->

<!--  -->





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - sri-sankl -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'sri-sankl';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://sri-sankl.github.io/blog/2014/11/05/connecting-angularjs-resource-with-rails/';
        var disqus_url = 'http://sri-sankl.github.io/blog/2014/11/05/connecting-angularjs-resource-with-rails/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
